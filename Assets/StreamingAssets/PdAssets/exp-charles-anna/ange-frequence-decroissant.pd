#N canvas 61 30 1859 1025 10;
#X obj 197 567 dac~;
#X floatatom 781 -251 4 0 0 0 - - -, f 4;
#X floatatom 666 76 5 0 1 0 - - -, f 5;
#X floatatom 853 78 5 0 1 0 - - -, f 5;
#X obj 308 228 noise~, f 8;
#X floatatom 760 310 5 0 1 0 - - -, f 5;
#X obj 209 500 *~;
#X obj 239 468 expr 1-$f1;
#X obj 779 -288 hsl 100 15 0 180 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X floatatom 853 145 5 0 1 0 - - -, f 5;
#X obj 200 -715 loadbang;
#X obj 276 -715 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 781 -331 r pointer_target_angle;
#X obj 853 43 r pointing_to_the_target;
#X obj 853 116 r inside_target;
#X obj 760 275 r mute;
#X text 302 -715 to click if params have changed;
#X text 325 -590 100 dB <=> unchanged loudness;
#X obj 324 -618 switch~;
#X obj 324 -675 inlet;
#X text 387 -618 turn patch off/on;
#X floatatom 324 -648 5 0 0 0 - - -, f 5;
#X floatatom 654 -608 5 0 0 0 - - -, f 5;
#X obj 1062 -704 r ad;
#X obj 783 -706 r dmax;
#X obj 729 -706 r dmin;
#X obj 658 -706 r dbmax;
#X obj 606 -643 expr ($f1-$f2)/log($f4/$f3);
#X obj 592 -706 r dbmin;
#X floatatom 1042 -605 5 0 0 0 - - -, f 5;
#X obj 678 -675 bondo 4;
#X obj 1040 -669 bondo 3;
#X obj 989 -703 r dbmin;
#X obj 1112 -704 r dmax;
#X msg 606 -608 \; ad \$1;
#X msg 991 -606 \; bd \$1;
#X obj 991 -639 expr $f1-$f2*log($f3);
#X floatatom 663 -431 5 0 0 0 - - -, f 5;
#X obj 687 -498 bondo 4;
#X msg 614 -431 \; af \$1;
#X obj 602 -531 r fmin;
#X obj 667 -531 r fmax;
#X obj 738 -531 r thetamin;
#X obj 824 -531 r thetamax;
#X obj 615 -466 expr (log($f1)-log($f2))/($f4-$f3);
#X floatatom 1038 -438 5 0 0 0 - - -, f 5;
#X obj 1036 -502 bondo 3;
#X obj 984 -538 r fmin;
#X obj 1058 -539 r af;
#X obj 1108 -539 r thetamax;
#X msg 988 -436 \; bf \$1;
#X obj 987 -471 expr log($f1)-$f2*$f3;
#X text 718 76 target behind;
#X obj 346 168 pythagorean-chord;
#X floatatom 1034 -93 5 0 1 0 - - -, f 5;
#X obj 780 -56 bondo 2;
#X obj 1035 -128 r target_behind;
#X obj 666 -7 expr if($f1<90&&$f2==0 \, 0 \, 1);
#X obj 210 164 new-behind;
#X msg 200 -674 \; fmin 110 \; fmax 440 \; fcst 220 \; dmin 0.3 \;
dmax 6 \; dbmin 55 \; dbmax 80 \; thetamin 0 \; thetamax 90 \; anglediscr
0 \; anglestep 30;
#X floatatom 324 88 5 0 0 0 - - -, f 5;
#X obj 375 -208 expr if($f1<90 \, $f1 \, 180-$f1);
#X floatatom 374 -172 5 0 0 0 - - -, f 5;
#X obj 261 -2 bondo 3;
#X obj 231 -65 r af;
#X obj 306 -65 r bf;
#X floatatom 367 -75 5 0 0 0 - - -, f 5;
#X obj 493 -138 bondo 3;
#X obj 516 -170 r anglediscr;
#X obj 629 -170 r anglestep;
#X obj 367 -106 expr if($f2<1 \, $f1 \, $f3*(floor(abs($f1-0.1)/$f3)))
;
#X obj 209 280 expr~ (1-$v4)*($v1+0.2*$v2*$v3)+0.6*$v2*$v4;
#X obj 212 34 expr exp($f1*$f3+$f2);
#X connect 1 0 55 0;
#X connect 1 0 61 0;
#X connect 2 0 58 1;
#X connect 3 0 71 2;
#X connect 4 0 71 1;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X connect 6 0 0 1;
#X connect 7 0 6 1;
#X connect 8 0 1 0;
#X connect 9 0 71 3;
#X connect 10 0 59 0;
#X connect 11 0 59 0;
#X connect 12 0 8 0;
#X connect 13 0 3 0;
#X connect 14 0 9 0;
#X connect 15 0 5 0;
#X connect 19 0 21 0;
#X connect 21 0 18 0;
#X connect 23 0 31 1;
#X connect 24 0 30 3;
#X connect 25 0 30 2;
#X connect 26 0 30 1;
#X connect 27 0 34 0;
#X connect 27 0 22 0;
#X connect 28 0 30 0;
#X connect 30 0 27 0;
#X connect 30 1 27 1;
#X connect 30 2 27 2;
#X connect 30 3 27 3;
#X connect 31 0 36 0;
#X connect 31 1 36 1;
#X connect 31 2 36 2;
#X connect 32 0 31 0;
#X connect 33 0 31 2;
#X connect 36 0 35 0;
#X connect 36 0 29 0;
#X connect 38 0 44 0;
#X connect 38 1 44 1;
#X connect 38 2 44 2;
#X connect 38 3 44 3;
#X connect 40 0 38 0;
#X connect 41 0 38 1;
#X connect 42 0 38 2;
#X connect 43 0 38 3;
#X connect 44 0 39 0;
#X connect 44 0 37 0;
#X connect 46 0 51 0;
#X connect 46 1 51 1;
#X connect 46 2 51 2;
#X connect 47 0 46 0;
#X connect 48 0 46 1;
#X connect 49 0 46 2;
#X connect 51 0 50 0;
#X connect 51 0 45 0;
#X connect 54 0 55 1;
#X connect 55 0 57 0;
#X connect 55 1 57 1;
#X connect 56 0 54 0;
#X connect 57 0 2 0;
#X connect 58 0 71 0;
#X connect 61 0 62 0;
#X connect 62 0 67 0;
#X connect 63 0 72 0;
#X connect 63 1 72 1;
#X connect 63 2 72 2;
#X connect 64 0 63 0;
#X connect 65 0 63 1;
#X connect 66 0 63 2;
#X connect 67 0 70 0;
#X connect 67 1 70 1;
#X connect 67 2 70 2;
#X connect 68 0 67 1;
#X connect 69 0 67 2;
#X connect 70 0 66 0;
#X connect 71 0 6 0;
#X connect 72 0 60 0;
#X connect 72 0 58 0;
