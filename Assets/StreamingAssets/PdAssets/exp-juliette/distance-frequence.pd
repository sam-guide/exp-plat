#N canvas 67 55 1853 1000 12;
#X obj 28 1367 dac~;
#X floatatom 194 1038 5 0 1 0 - - -, f 5;
#X obj 111 1086 noise~, f 8;
#X floatatom 165 1250 5 0 1 0 - - -, f 5;
#X obj 40 1300 *~;
#X obj 64 1279 expr 1-$f1;
#X floatatom 259 1083 5 0 1 0 - - -, f 5;
#X obj 25 -36 loadbang;
#X obj 102 -36 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 194 1003 r pointing_to_the_target;
#X obj 259 1054 r inside_target;
#X obj 189 1222 r mute;
#X text 127 -36 to click if params have changed;
#X text 151 86 100 dB <=> unchanged loudness;
#X obj 149 58 switch~;
#X obj 149 1 inlet;
#X text 212 58 turn patch off/on;
#X floatatom 149 28 5 0 0 0 - - -, f 5;
#X obj 41 996 osc~;
#X obj 340 400 hsl 200 15 0 10 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X floatatom 338 431 5 0 0 0 - - -, f 5;
#X obj 125 492 r dmin;
#X obj 186 491 r dmax;
#X floatatom 32 669 5 0 0 0 - - -, f 5;
#X obj 338 370 r distance_to_the_target;
#X obj 163 523 bondo 3;
#X obj 30 560 expr if($f3<$f1 \, $f1 \, if($f3>$f2 \, $f2 \, $f3))
;
#X obj 75 716 bondo 3;
#X obj 30 770 expr exp($f2*log($f1)+$f3);
#X floatatom 588 125 5 0 0 0 - - -, f 5;
#X floatatom 1041 124 5 0 0 0 - - -, f 5;
#X obj 612 58 bondo 4;
#X obj 1039 60 bondo 3;
#X obj 540 90 expr (log($f1)-log($f2))/(log($f3)-log($f4));
#X obj 988 26 r fmin;
#X obj 990 90 expr log($f1)-$f2*log($f3);
#X obj 1111 25 r dmax;
#X obj 526 27 r fmin;
#X obj 592 27 r fmax;
#X obj 663 27 r dmax;
#X obj 717 27 r dmin;
#X floatatom 170 710 5 0 0 0 - - -, f 5;
#X floatatom 230 710 5 0 0 0 - - -, f 5;
#X msg 540 125 \; adf \$1;
#X msg 990 123 \; bdf \$1;
#X obj 74 670 r adf;
#X obj 133 670 r bdf;
#X obj 1061 25 r adf;
#X obj 41 1131 expr~ ((1-$v4)*(0.5*$v1+0*$v2*$v3)+0.8*$v2*$v4)*1;
#X obj 250 480 expr $f1+0.15;
#X text 490 -20 Calcul du coefficient directeur de la droite;
#X text 950 -20 Calcul de l'ordonnée à l'origine de la droite;
#X text 340 320 Donnée spatiale d'entrée : distance entre le point
P et l'extérieur de la sphère;
#X text 300 590 La distance est bornée;
#X text 110 800 Calcul de la fréquence en fonction de la distance
;
#X text 60 1160 Expression du bruit blanc;
#X text 70 1340 Sortie audio finale;
#X msg 20 10 \; fmin 110 \; fmax 440 \; fcst 220 \; dmin 0.15 \; dmax
4.5 \; dbmin 50 \; dbmax 80 \; thetamin 5 \; thetamax 90;
#X connect 1 0 48 2;
#X connect 2 0 48 1;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X connect 4 0 0 1;
#X connect 5 0 4 1;
#X connect 6 0 48 3;
#X connect 7 0 57 0;
#X connect 8 0 57 0;
#X connect 9 0 1 0;
#X connect 10 0 6 0;
#X connect 11 0 3 0;
#X connect 15 0 17 0;
#X connect 17 0 14 0;
#X connect 18 0 48 0;
#X connect 19 0 20 0;
#X connect 19 0 49 0;
#X connect 21 0 25 0;
#X connect 22 0 25 1;
#X connect 23 0 27 0;
#X connect 24 0 19 0;
#X connect 25 0 26 0;
#X connect 25 1 26 1;
#X connect 25 2 26 2;
#X connect 26 0 23 0;
#X connect 27 0 28 0;
#X connect 27 1 28 1;
#X connect 27 2 28 2;
#X connect 28 0 18 0;
#X connect 31 0 33 0;
#X connect 31 1 33 1;
#X connect 31 2 33 2;
#X connect 31 3 33 3;
#X connect 32 0 35 0;
#X connect 32 1 35 1;
#X connect 32 2 35 2;
#X connect 33 0 43 0;
#X connect 33 0 29 0;
#X connect 34 0 32 0;
#X connect 35 0 44 0;
#X connect 35 0 30 0;
#X connect 36 0 32 2;
#X connect 37 0 31 0;
#X connect 38 0 31 1;
#X connect 39 0 31 2;
#X connect 40 0 31 3;
#X connect 45 0 27 1;
#X connect 45 0 41 0;
#X connect 46 0 27 2;
#X connect 46 0 42 0;
#X connect 47 0 32 1;
#X connect 48 0 4 0;
#X connect 49 0 25 2;
