#N canvas 67 55 1853 1000 12;
#X obj 17 1232 dac~;
#X floatatom 603 378 4 0 0 0 - - -, f 4;
#X floatatom 492 601 5 0 1 0 - - -, f 5;
#X floatatom 178 730 5 0 1 0 - - -, f 5;
#X obj 111 755 noise~, f 8;
#X floatatom 182 1099 5 0 1 0 - - -, f 5;
#X obj 30 1169 *~;
#X obj 60 1137 expr 1-$f1;
#X obj 602 324 hsl 100 15 0 180 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X floatatom 269 773 5 0 1 0 - - -, f 5;
#X obj 22 -40 loadbang;
#X obj 98 -40 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 602 247 r pointer_target_angle;
#X obj 178 695 r pointing_to_the_target;
#X obj 265 746 r inside_target;
#X obj 182 1064 r mute;
#X text 124 -40 to click if params have changed;
#X text 147 85 100 dB <=> unchanged loudness;
#X obj 146 57 switch~;
#X obj 146 0 inlet;
#X text 209 57 turn patch off/on;
#X floatatom 146 27 5 0 0 0 - - -, f 5;
#X floatatom 778 155 5 0 0 0 - - -, f 5;
#X obj 1281 55 r ad;
#X obj 907 57 r dmax;
#X obj 853 57 r dmin;
#X obj 782 57 r dbmax;
#X obj 730 120 expr ($f1-$f2)/log($f4/$f3);
#X obj 716 57 r dbmin;
#X floatatom 1261 154 5 0 0 0 - - -, f 5;
#X obj 802 88 bondo 4;
#X obj 1259 90 bondo 3;
#X obj 1208 56 r dbmin;
#X obj 1331 55 r dmax;
#X msg 730 155 \; ad \$1;
#X msg 1210 153 \; bd \$1;
#X obj 1210 120 expr $f1-$f2*log($f3);
#X floatatom 860 432 5 0 1 0 - - -, f 5;
#X obj 606 469 bondo 2;
#X obj 861 397 r target_behind;
#X obj 492 518 expr if($f1<90&&$f2==0 \, 0 \, 1);
#X obj 34 988 *~;
#X obj 964 635 hsl 200 15 0 10 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X floatatom 964 666 5 0 0 0 - - -, f 5;
#X obj 781 667 r dmin;
#X obj 842 666 r dmax;
#X floatatom 688 774 5 0 0 0 - - -, f 5;
#X floatatom 707 917 5 0 0 0 - - -, f 5;
#X obj 964 605 r distance_to_the_target;
#X obj 129 929 dbtorms~;
#X obj 819 698 bondo 3;
#X obj 689 737 expr if($f3<$f1 \, $f1 \, if($f3>$f2 \, $f2 \, $f3))
;
#X obj 730 775 r ad;
#X obj 789 775 r bd;
#X obj 731 821 bondo 3;
#X obj 686 875 expr $f2*log($f1)+$f3;
#X floatatom 33 546 5 0 0 0 - - -, f 5;
#X obj 39 635 osc~;
#X obj 122 650 osc~;
#X obj 103 617 expr $f1*1;
#X obj 42 682 expr~ ($v1+$v2);
#X obj 413 687 expr 1-$f1;
#X floatatom 439 722 5 0 1 0 - - -, f 5;
#X obj 403 906 r between_O_P;
#X obj 435 1017 expr if($f1 == 1 \, $f2 \, $f3);
#X obj 507 759 r between_O_P;
#X obj 529 855 tgl 18 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X floatatom 446 1046 5 0 0 0 - - -, f 5;
#X obj 503 906 expr $f1*$f2;
#X obj 522 976 bondo 3;
#X floatatom 484 854 5 0 0 0 - - -, f 5;
#X obj 520 880 bondo 2;
#X obj 526 800 edge, f 5;
#X obj 527 824 metro 75;
#X obj 33 806 expr~ (1-$v4)*($v1+0.45*$v2*$v3*$f5)+0.8*$v2*$v4;
#X text 700 20 Calcul du coefficient directeur de la droite;
#X text 1160 20 Calcul de l'ordonnée à l'origine de la droite;
#X text 1030 540 Donnée spatiale d'entrée : distance entre le point
P et l'extérieur de la sphère;
#X text 310 200 Donnée spatiale : angle POT pour déterminer si la
cible est derrière l'angle;
#X text 60 840 Expression du bruit blanc;
#X text 544 601 Target behind;
#X text 870 780 La distance est bornée;
#X text 790 910 Calcul de l'intensité en fonction de la distance;
#X text 70 1210 Sortie audio finale;
#X text 410 1080 Dépassement de la cible;
#X msg 22 1 \; fmin 110 \; fmax 440 \; fcst 220 \; dmin 0.3 \; dmax
6 \; dbmin 50 \; dbmax 80 \; thetamin 5 \; thetamax 90;
#X obj 35 463 r fmax;
#X connect 1 0 38 0;
#X connect 2 0 61 0;
#X connect 3 0 74 2;
#X connect 4 0 74 1;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X connect 6 0 0 1;
#X connect 7 0 6 1;
#X connect 8 0 1 0;
#X connect 9 0 74 3;
#X connect 10 0 85 0;
#X connect 11 0 85 0;
#X connect 12 0 8 0;
#X connect 13 0 3 0;
#X connect 14 0 9 0;
#X connect 15 0 5 0;
#X connect 19 0 21 0;
#X connect 21 0 18 0;
#X connect 23 0 31 1;
#X connect 24 0 30 3;
#X connect 25 0 30 2;
#X connect 26 0 30 1;
#X connect 27 0 34 0;
#X connect 27 0 22 0;
#X connect 28 0 30 0;
#X connect 30 0 27 0;
#X connect 30 1 27 1;
#X connect 30 2 27 2;
#X connect 30 3 27 3;
#X connect 31 0 36 0;
#X connect 31 1 36 1;
#X connect 31 2 36 2;
#X connect 32 0 31 0;
#X connect 33 0 31 2;
#X connect 36 0 35 0;
#X connect 36 0 29 0;
#X connect 37 0 38 1;
#X connect 38 0 40 0;
#X connect 38 1 40 1;
#X connect 39 0 37 0;
#X connect 40 0 2 0;
#X connect 41 0 6 0;
#X connect 42 0 43 0;
#X connect 42 0 50 2;
#X connect 44 0 50 0;
#X connect 45 0 50 1;
#X connect 46 0 54 0;
#X connect 47 0 71 1;
#X connect 47 0 69 2;
#X connect 48 0 42 0;
#X connect 49 0 41 1;
#X connect 50 0 51 0;
#X connect 50 1 51 1;
#X connect 50 2 51 2;
#X connect 51 0 46 0;
#X connect 52 0 54 1;
#X connect 53 0 54 2;
#X connect 54 0 55 0;
#X connect 54 1 55 1;
#X connect 54 2 55 2;
#X connect 55 0 47 0;
#X connect 56 0 57 0;
#X connect 56 0 59 0;
#X connect 57 0 60 0;
#X connect 58 0 60 1;
#X connect 59 0 58 0;
#X connect 60 0 74 0;
#X connect 61 0 62 0;
#X connect 61 0 74 4;
#X connect 63 0 69 0;
#X connect 64 0 67 0;
#X connect 64 0 49 0;
#X connect 65 0 72 0;
#X connect 66 0 71 0;
#X connect 68 0 69 1;
#X connect 69 0 64 0;
#X connect 69 1 64 1;
#X connect 69 2 64 2;
#X connect 71 0 68 0;
#X connect 71 1 68 1;
#X connect 72 0 73 0;
#X connect 73 0 70 0;
#X connect 73 0 66 0;
#X connect 74 0 41 0;
#X connect 86 0 56 0;
